<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BearOps Sales Engine Architecture</title>
    <style>
        /* =========================================
           THEME VARIABLES (Dark is Default)
        ========================================= */
        :root {
            --bg-gradient: linear-gradient(135deg, #0A1628 0%, #1a2942 100%);
            --text-color: #ffffff;
            --card-bg: rgba(255, 255, 255, 0.05);
            --border-color: rgba(52, 152, 219, 0.3);
            --input-bg: rgba(255, 255, 255, 0.1);
            --input-border: rgba(52, 152, 219, 0.3);
        }

        /* LIGHT MODE OVERRIDE */
        .light-mode {
            --bg-gradient: linear-gradient(135deg, #ffffff 0%, #e8e8e8 100%);
            --text-color: #0A1628;
            --card-bg: rgba(0, 0, 0, 0.05);
            --border-color: rgba(0,0,0,0.2);
            --input-bg: rgba(0,0,0,0.05);
            --input-border: rgba(0,0,0,0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg-gradient);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .header {
            text-align: center;
            padding: 40px 20px;
            background: rgba(10, 22, 40, 0.8);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 2px solid rgba(52, 152, 219, 0.3);
        }

        /* Overlaid logo in header ‚Äì does not affect layout flow */
        .page-logo {
            position: absolute;
            top: 15px;
            left: 20px; /* fixed case so it actually works */
            height: 40px;
            width: auto;
            z-index: 120;
        }

        .logo {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .logo-icon {
            width: 50px;
            height: 50px;
            background: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            color: #0A1628;
        }

        .subtitle {
            font-size: 1.8rem;
            color: #3498db;
            margin-top: 20px;
            font-weight: 300;
            letter-spacing: 2px;
        }

        .search-container {
            max-width: 600px;
            margin: 20px auto 0;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 12px 20px;
            border-radius: 25px;
            border: 2px solid var(--input-border);
            background: var(--input-bg);
            color: inherit;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: #3498db;
            background: rgba(255, 255, 255, 0.15);
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .framework-intro {
            background: rgba(52, 152, 219, 0.1);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 40px;
            border-left: 4px solid #3498db;
        }

        .framework-intro h2 {
            color: #3498db;
            margin-bottom: 15px;
        }

        .stages-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .stage-card {
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.15) 0%, rgba(41, 128, 185, 0.1) 100%);
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }

        .stage-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .stage-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(52, 152, 219, 0.3);
            border-color: #3498db;
        }

        .stage-card:hover::before {
            transform: scaleX(1);
        }

        .stage-card.active {
            border-color: #3498db;
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.25) 0%, rgba(41, 128, 185, 0.2) 100%);
        }

        .stage-number {
            font-size: 3rem;
            font-weight: bold;
            color: #3498db;
            opacity: 0.3;
            position: absolute;
            top: 10px;
            right: 20px;
        }

        .stage-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #3498db;
            position: relative;
            z-index: 1;
        }

        .stage-subtitle {
            font-size: 0.95rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 15px;
        }

        .stage-summary {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.5;
        }

        .stage-details {
            display: none;
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px solid rgba(52, 152, 219, 0.3);
            animation: slideDown 0.3s ease;
        }

        .stage-details.active {
            display: block;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .methodology-section {
            margin-bottom: 25px;
        }

        .methodology-section h4 {
            color: #3498db;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.1rem;
        }

        .methodology-section ul {
            list-style: none;
            padding-left: 0;
        }

        .methodology-section li {
            padding: 12px 15px;
            background: var(--card-bg);
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 3px solid #3498db;
            transition: all 0.2s ease;
        }

        .methodology-section li:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }

        .methodology-section li strong {
            color: #3498db;
            display: block;
            margin-bottom: 5px;
        }

        .kpi-section {
            background: rgba(46, 204, 113, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 4px solid #2ecc71;
        }

        .kpi-section h4 {
            color: #2ecc71;
            margin-bottom: 15px;
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .kpi-item {
            background: var(--card-bg);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            transition: all 0.2s ease;
        }

        .kpi-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.05);
        }

        .kpi-label {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 5px;
        }

        .kpi-value {
            font-size: 1.1rem;
            font-weight: bold;
            color: #2ecc71;
        }

        .buyer-journey {
            background: rgba(241, 196, 15, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid #f39c12;
        }

        .buyer-journey h5 {
            color: #f39c12;
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .tools-section {
            margin-top: 20px;
        }

        .tool-button {
            display: inline-block;
            padding: 10px 20px;
            background: rgba(52, 152, 219, 0.2);
            border: 2px solid #3498db;
            border-radius: 25px;
            color: #3498db;
            text-decoration: none;
            margin: 5px;
            transition: all 0.3s ease;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .tool-button:hover {
            background: rgba(52, 152, 219, 0.3);
            transform: translateY(-2px);
        }

        .toggle-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .toggle-button {
            padding: 12px 25px;
            background: rgba(52, 152, 219, 0.2);
            border: 2px solid #3498db;
            border-radius: 25px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }

        .toggle-button:hover {
            background: rgba(52, 152, 219, 0.3);
        }

        .toggle-button.active {
            background: #3498db;
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        .modal.active {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: linear-gradient(135deg, #1a2942 0%, #0A1628 100%);
            padding: 40px;
            border-radius: 15px;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            border: 2px solid #3498db;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2rem;
            cursor: pointer;
            color: #3498db;
            transition: all 0.2s ease;
        }

        .modal-close:hover {
            color: #e74c3c;
            transform: rotate(90deg);
        }

        .calculator {
            background: var(--card-bg);
            padding: 25px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .calculator h4 {
            color: #3498db;
            margin-bottom: 20px;
        }

        .calc-input-group {
            margin-bottom: 15px;
        }

        .calc-input-group label {
            display: block;
            margin-bottom: 5px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }

        .calc-input-group input {
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            border: 2px solid var(--input-border);
            background: var(--input-bg);
            color: inherit;
            font-size: 1rem;
        }

        .calc-input-group input:focus {
            outline: none;
            border-color: #3498db;
        }

        .calc-result {
            margin-top: 20px;
            padding: 20px;
            background: rgba(46, 204, 113, 0.2);
            border-radius: 8px;
            border-left: 4px solid #2ecc71;
        }

        .calc-result h5 {
            color: #2ecc71;
            margin-bottom: 10px;
        }

        .print-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            padding: 15px 30px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
            transition: all 0.3s ease;
            z-index: 99;
        }

        .print-button:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 7px 20px rgba(52, 152, 219, 0.5);
        }

        .coaching-tip {
            background: rgba(155, 89, 182, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid #9b59b6;
        }

        .coaching-tip h5 {
            color: #9b59b6;
            margin-bottom: 10px;
            font-size: 0.95rem;
        }

        .coaching-tip p {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        @media print {
            body {
                background: white;
                color: black;
            }
            .header {
                position: relative;
                background: white;
                color: black;
                border-bottom: 2px solid #3498db;
            }
            .stage-card {
                page-break-inside: avoid;
                border: 2px solid #3498db;
            }
            .print-button, .search-container, .toggle-container {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .stages-grid {
                grid-template-columns: 1fr;
            }
            .logo {
                font-size: 1.8rem;
            }
            .subtitle {
                font-size: 1.3rem;
            }
        }

        .icon {
            display: inline-block;
            width: 20px;
            height: 20px;
            background: #3498db;
            border-radius: 50%;
            text-align: center;
            line-height: 20px;
            font-size: 0.8rem;
        }

        .theme-toggle {
            position: absolute;
            top: 15px;
            right: 20px;
            background: transparent;
            border: 2px solid var(--border-color);
            color: var(--text-color);
            padding: 8px 14px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            z-index: 150;
        }

        .theme-toggle:hover {
            background: var(--card-bg);
        }
    </style>
</head>
<body>
    <div class="header">
 <!-- Overlaid logo (doesn't change layout) -->
        <img src="BearOps_Logo_Default.png" alt="BearOps Logo" class="page-logo">

        <a href="Index.html" class="back-button">‚Üê Back to Index</a>
        <button class="theme-toggle" onclick="toggleTheme()">üåô / ‚òÄÔ∏è</button>
    </div>

    <div class="subtitle">SALES ENGINE ARCHITECTURE</div>
    <div class="search-container">
        <input type="text" class="search-input" id="searchInput" placeholder="Search methodologies, tools, KPIs...">
    </div>

    <div class="container">
        <div class="framework-intro">
            <h2>The Framework at a Glance</h2>
            <p>BearOps' Sales Engine is designed to move prospects from stranger to advocate through five interconnected stages. Each stage represents a critical moment in the buyer's journey, with specific methodologies, tools, and metrics that ensure consistent, scalable growth. Built on decades of B2B SaaS experience, this framework transforms complex sales motions into a structured, repeatable system where high-performing teams operate at scale.</p>
        </div>

        <div class="stages-grid">
            <!-- Stage 1: Smart Prospecting -->
            <div class="stage-card" onclick="toggleStage(1)">
                <div class="stage-number">1</div>
                <div class="stage-title">Smart Prospecting</div>
                <div class="stage-subtitle">Build Clarity on Who to Target</div>
                <div class="stage-summary">Build clarity on who to target, how to reach them, and when to engage. Foundation for all sales success.</div>
                
                <div class="stage-details" id="stage-1">
                    <div class="methodology-section">
                        <h4><span class="icon">üìä</span> Core Methodologies</h4>
                        <ul>
                            <li>
                                <strong>Buying Persona & Target Market ICP</strong>
                                Define decision-makers, influencers, and champions. Map personas and segments to shared buying patterns.
                            </li>
                            <li>
                                <strong>Trigger-Based Prospecting</strong>
                                Use intelligent, multi-touch sequences that speak to real pain, not noise.
                            </li>
                            <li>
                                <strong>BDR & Account Executive Handoff Protocols</strong>
                                Create clean transitions to ensure no context or momentum is lost.
                            </li>
                            <li>
                                <strong>Prospecting Tech Tools</strong>
                                Use CRM, enrichment, and AI tools to prioritize accounts with intent signals.
                            </li>
                        </ul>
                    </div>

                    <div class="buyer-journey">
                        <h5>üéØ Alignment with Buyer's Journey</h5>
                        <p>Personalize outreach to meet buyers in their digital and peer-search phase; loop stakeholders early.</p>
                    </div>

                    <div class="kpi-section">
                        <h4>Key Performance Indicators</h4>
                        <div class="kpi-grid">
                            <div class="kpi-item">
                                <div class="kpi-label">SQL Conversion</div>
                                <div class="kpi-value">Target: 25%+</div>
                            </div>
                            <div class="kpi-item">
                                <div class="kpi-label">Reply Rate</div>
                                <div class="kpi-value">Target: 15%+</div>
                            </div>
                            <div class="kpi-item">
                                <div class="kpi-label">Lead Velocity</div>
                                <div class="kpi-value">Trending Up</div>
                            </div>
                        </div>
                    </div>

                    <div class="coaching-tip">
                        <h5>üí° Coaching Tip</h5>
                        <p>The best prospecting isn't about volume‚Äîit's about precision. Focus on quality conversations with accounts showing real buying signals. Train your team to recognize trigger events and personalize outreach accordingly.</p>
                    </div>

                    <div class="tools-section">
                        <h4 style="color: #3498db; margin-bottom: 10px;">üõ†Ô∏è Recommended Tools & Templates</h4>
                        <button class="tool-button" onclick="openModal('persona-template')">Persona Template</button>
                        <button class="tool-button" onclick="openModal('sequence-framework')">Sequence Framework</button>
                        <button class="tool-button" onclick="openModal('handoff-checklist')">Handoff Checklist</button>
                    </div>
                </div>
            </div>

            <!-- Stage 2: Flawless Qualification -->
            <div class="stage-card" onclick="toggleStage(2)">
                <div class="stage-number">2</div>
                <div class="stage-title">Flawless Qualification</div>
                <div class="stage-subtitle">Create Certainty in How Opportunities Progress</div>
                <div class="stage-summary">Create certainty in how opportunities progress and are advanced. Qualification separates real deals from wishful thinking.</div>
                
                <div class="stage-details" id="stage-2">
                    <div class="methodology-section">
                        <h4><span class="icon">‚úì</span> Core Methodologies</h4>
                        <ul>
                            <li>
                                <strong>Qualification Models & Methodologies</strong>
                                Implement frameworks like BANT or SPIN to ensure every opportunity has substance.
                            </li>
                            <li>
                                <strong>Objection Handling Platform</strong>
                                Use Gong/Chorus to extract objections into insight through empathy, data, and credibility.
                            </li>
                        </ul>
                    </div>

                    <div class="buyer-journey">
                        <h5>üéØ Alignment with Buyer's Journey</h5>
                        <p>Refine the problem and co-create a mutual action plan.</p>
                    </div>

                    <div class="kpi-section">
                        <h4>Key Performance Indicators</h4>
                        <div class="kpi-grid">
                            <div class="kpi-item">
                                <div class="kpi-label">Stage Conversion</div>
                                <div class="kpi-value">Target: 40%+</div>
                            </div>
                            <div class="kpi-item">
                                <div class="kpi-label">Decision Coverage</div>
                                <div class="kpi-value">All Stakeholders</div>
                            </div>
                            <div class="kpi-item">
                                <div class="kpi-label">Pipeline Quality</div>
                                <div class="kpi-value">High Fidelity</div>
                            </div>
                        </div>
                    </div>

                    <div class="coaching-tip">
                        <h5>üí° Coaching Tip</h5>
                        <p>Master the art of asking difficult questions early. If you can't get clear answers on budget, timeline, and decision process, you don't have a qualified opportunity‚Äîyou have a conversation. Push for specifics.</p>
                    </div>

                    <div class="tools-section">
                        <h4 style="color: #3498db; margin-bottom: 10px;">üõ†Ô∏è Recommended Tools & Templates</h4>
                        <button class="tool-button" onclick="openModal('meddic-guide')">MEDDIC Guide</button>
                        <button class="tool-button" onclick="openModal('bant-framework')">BANT Framework</button>
                        <button class="tool-button" onclick="openModal('miller-heiman')">Miller Heiman Strategic Analysis</button>
                        <button class="tool-button" onclick="openModal('objection-library')">Objection Library</button>
                        <button class="tool-button" onclick="openModal('mutual-action-plan')">Mutual Action Plan</button>
                    </div>
                </div>
            </div>

            <!-- Stage 3: Client-Focused Proposals -->
            <div class="stage-card" onclick="toggleStage(3)">
                <div class="stage-number">3</div>
                <div class="stage-title">Client-Focused Proposals</div>
                <div class="stage-subtitle">Move from Closing Selling to Value Co-Creation</div>
                <div class="stage-summary">Move from closing selling to value co-creation with measurable outcomes. Transform demonstrations into business cases.</div>
                
                <div class="stage-details" id="stage-3">
                    <div class="methodology-section">
                        <h4><span class="icon">üìÑ</span> Core Methodologies</h4>
                        <ul>
                            <li>
                                <strong>Proposal Sequence & Craft</strong>
                                Proposals are business cases aligned with executive priorities.
                            </li>
                            <li>
                                <strong>Demo Best Practices & Level Progression</strong>
                                Use measurable level progression checkpoints for consistency.
                            </li>
                            <li>
                                <strong>Sales Stage Exit Criteria</strong>
                                Each stage requires documented proof of progress before advancing.
                            </li>
                            <li>
                                <strong>Demos</strong>
                                Use demos to narrate transformation stories, not just features.
                            </li>
                            <li>
                                <strong>Strategic Selling</strong>
                                Connect proposals to the client's long-term change agenda.
                            </li>
                        </ul>
                    </div>

                    <div class="buyer-journey">
                        <h5>üéØ Alignment with Buyer's Journey</h5>
                        <p>Co-develop a business case grounded in measurable outcomes.</p>
                    </div>

                    <div class="kpi-section">
                        <h4>Key Performance Indicators</h4>
                        <div class="kpi-grid">
                            <div class="kpi-item">
                                <div class="kpi-label">Win Rate</div>
                                <div class="kpi-value">Target: 30%+</div>
                            </div>
                            <div class="kpi-item">
                                <div class="kpi-label">Deal Size</div>
                                <div class="kpi-value">Increasing ACV</div>
                            </div>
                            <div class="kpi-item">
                                <div class="kpi-label">Proposal Accuracy</div>
                                <div class="kpi-value">High Conversion</div>
                            </div>
                        </div>
                    </div>

                    <div class="coaching-tip">
                        <h5>üí° Coaching Tip</h5>
                        <p>Never deliver a proposal without pre-selling it. Walk through the business case with your champion first, get their input, and adjust before the formal presentation. Proposals should confirm agreements, not introduce surprises.</p>
                    </div>

                    <div class="tools-section">
                        <h4 style="color: #3498db; margin-bottom: 10px;">üõ†Ô∏è Recommended Tools & Templates</h4>
                        <button class="tool-button" onclick="openModal('proposal-template')">Proposal Template</button>
                        <button class="tool-button" onclick="openModal('roi-calculator')">ROI Calculator</button>
                        <button class="tool-button" onclick="openModal('demo-script')">Demo Script Builder</button>
                        <button class="tool-button" onclick="openModal('exit-criteria')">Stage Exit Criteria</button>
                    </div>
                </div>
            </div>

            <!-- Stage 4: Win-Win Closing -->
            <div class="stage-card" onclick="toggleStage(4)">
                <div class="stage-number">4</div>
                <div class="stage-title">Win-Win Closing</div>
                <div class="stage-subtitle">Create Trust-Driven Closings</div>
                <div class="stage-summary">Create trust-driven closings that balance value and partnership. Close deals that set up long-term customer success.</div>
                
                <div class="stage-details" id="stage-4">
                    <div class="methodology-section">
                        <h4><span class="icon">ü§ù</span> Core Methodologies</h4>
                        <ul>
                            <li>
                                <strong>Closing Methods</strong>
                                Apply frameworks that deliver results without pressure.
                            </li>
                            <li>
                                <strong>Commercial Layers</strong>
                                Use structured trade-offs to protect value and maintain relationships.
                            </li>
                            <li>
                                <strong>Pricing & Discounts</strong>
                                Maintain pricing models that maintain integrity and profitability.
                            </li>
                        </ul>
                    </div>

                    <div class="buyer-journey">
                        <h5>üéØ Alignment with Buyer's Journey</h5>
                        <p>Maintain momentum and prevent buyer doubt during final decision stages.</p>
                    </div>

                    <div class="kpi-section">
                        <h4>Key Performance Indicators</h4>
                        <div class="kpi-grid">
                            <div class="kpi-item">
                                <div class="kpi-label">Close Rate</div>
                                <div class="kpi-value">Target: 25%+</div>
                            </div>
                            <div class="kpi-item">
                                <div class="kpi-label">Pricing Adherence</div>
                                <div class="kpi-value">90%+ List</div>
                            </div>
                            <div class="kpi-item">
                                <div class="kpi-label">Cycle Time</div>
                                <div class="kpi-value">Decreasing</div>
                            </div>
                        </div>
                    </div>

                    <div class="coaching-tip">
                        <h5>üí° Coaching Tip</h5>
                        <p>The close is earned in discovery and qualification, not in the final meeting. If you're scrambling at the end, you missed something earlier. Focus on building mutual commitment throughout the process.</p>
                    </div>

                    <div class="tools-section">
                        <h4 style="color: #3498db; margin-bottom: 10px;">üõ†Ô∏è Recommended Tools & Templates</h4>
                        <button class="tool-button" onclick="openModal('closing-playbook')">Closing Playbook</button>
                        <button class="tool-button" onclick="openModal('negotiation-guide')">Negotiation Guide</button>
                        <button class="tool-button" onclick="openModal('concession-matrix')">Concession Matrix</button>
                    </div>
                </div>
            </div>

            <!-- Stage 5: Account Management & Expansion -->
            <div class="stage-card" onclick="toggleStage(5)">
                <div class="stage-number">5</div>
                <div class="stage-title">Account Management & Expansion</div>
                <div class="stage-subtitle">Drive Early Value & Proactive Growth</div>
                <div class="stage-summary">Drive early value delivery through structured retention, upsell, and growth strategies. Turn customers into advocates and revenue engines.</div>
                
                <div class="stage-details" id="stage-5">
                    <div class="methodology-section">
                        <h4><span class="icon">üìà</span> Core Methodologies</h4>
                        <ul>
                            <li>
                                <strong>Account Tiering & Forecast</strong>
                                Segment accounts by potential, performance, and risk profile.
                            </li>
                            <li>
                                <strong>Renewals & Mutual Action Plans</strong>
                                Drive proactive renewals and track early churn signals.
                            </li>
                            <li>
                                <strong>Success Motions</strong>
                                Map the customer journey from onboarding to advocacy.
                            </li>
                            <li>
                                <strong>Churn & Quota Gap Recovery</strong>
                                Deploy retention plays to close performance gaps.
                            </li>
                            <li>
                                <strong>White Space</strong>
                                Visualize buying centers and uncover cross-sell or upsell areas.
                            </li>
                        </ul>
                    </div>

                    <div class="buyer-journey">
                        <h5>üéØ Alignment with Buyer's Journey</h5>
                        <p>Ensure early time-to-value and execute a defined customer lifecycle.</p>
                    </div>

                    <div class="kpi-section">
                        <h4>Key Performance Indicators</h4>
                        <div class="kpi-grid">
                            <div class="kpi-item">
                                <div class="kpi-label">NPR</div>
                                <div class="kpi-value">Target: 110%+</div>
                            </div>
                            <div class="kpi-item">
                                <div class="kpi-label">Renewal Rate</div>
                                <div class="kpi-value">Target: 95%+</div>
                            </div>
                            <div class="kpi-item">
                                <div class="kpi-label">Expansion ARR</div>
                                <div class="kpi-value">Growing</div>
                            </div>
                        </div>
                    </div>

                    <div class="coaching-tip">
                        <h5>üí° Coaching Tip</h5>
                        <p>Expansion starts on day one. Build a success plan during the sales process that identifies future growth opportunities. Your best source of new revenue is the customers who already trust you.</p>
                    </div>

                    <div class="tools-section">
                        <h4 style="color: #3498db; margin-bottom: 10px;">üõ†Ô∏è Recommended Tools & Templates</h4>
                        <button class="tool-button" onclick="openModal('account-plan')">Account Plan Template</button>
                        <button class="tool-button" onclick="openModal('qbr-framework')">QBR Framework</button>
                        <button class="tool-button" onclick="openModal('health-score')">Health Score Model</button>
                        <button class="tool-button" onclick="openModal('expansion-playbook')">Expansion Playbook</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill" style="width: 0%"></div>
        </div>
    </div>

    <!-- Modal for Tools/Templates -->
    <div class="modal" id="toolModal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal()">&times;</span>
            <div id="modalContent"></div>
        </div>
    </div>

    <!-- Calculator Modal -->
    <div class="modal" id="calculatorModal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeCalculatorModal()">&times;</span>
            <h2 style="color: #3498db; margin-bottom: 20px;">Sales KPI Calculator</h2>
            
            <div class="calculator">
                <h4>Pipeline Velocity Calculator</h4>
                <div class="calc-input-group">
                    <label>Number of Opportunities:</label>
                    <input type="number" id="numOpps" value="100">
                </div>
                <div class="calc-input-group">
                    <label>Average Deal Value (‚Ç¨):</label>
                    <input type="number" id="avgDeal" value="25000">
                </div>
                <div class="calc-input-group">
                    <label>Win Rate (%):</label>
                    <input type="number" id="winRate" value="25">
                </div>
                <div class="calc-input-group">
                    <label>Sales Cycle Length (days):</label>
                    <input type="number" id="cycleLength" value="90">
                </div>
                <button class="tool-button" onclick="calculateVelocity()" style="margin-top: 15px;">Calculate</button>
                
                <div class="calc-result" id="calcResult" style="display: none;">
                    <h5>Results</h5>
                    <p id="velocityResult"></p>
                    <p id="monthlyResult"></p>
                    <p id="quarterlyResult"></p>
                </div>
            </div>

            <div class="calculator" style="margin-top: 20px;">
                <h4>Lead Generation Calculator</h4>
                <div class="calc-input-group">
                    <label>Monthly Leads Required:</label>
                    <input type="number" id="leadsNeeded" value="200">
                </div>
                <div class="calc-input-group">
                    <label>SQL Conversion Rate (%):</label>
                    <input type="number" id="sqlConversion" value="25">
                </div>
                <div class="calc-input-group">
                    <label>Opportunity Conversion (%):</label>
                    <input type="number" id="oppConversion" value="40">
                </div>
                <button class="tool-button" onclick="calculateLeadGen()" style="margin-top: 15px;">Calculate</button>
                
                <div class="calc-result" id="leadGenResult" style="display: none;">
                    <h5>Results</h5>
                    <p id="leadGenDetails"></p>
                </div>
            </div>
        </div>
    </div>

    <button class="print-button" onclick="window.print()">üìÑ Export to PDF</button>

    <script>
        /* THEME TOGGLE */
        function toggleTheme() {
            document.body.classList.toggle('light-mode');
        }

        let activeStages = new Set();
        
        function toggleStage(stageNum) {
            const details = document.getElementById(`stage-${stageNum}`);
            const card = details.closest('.stage-card');
            
            if (activeStages.has(stageNum)) {
                details.classList.remove('active');
                card.classList.remove('active');
                activeStages.delete(stageNum);
            } else {
                details.classList.add('active');
                card.classList.add('active');
                activeStages.add(stageNum);
            }
            
            updateProgress();
        }
        
        function toggleAllStages() {
            const allDetails = document.querySelectorAll('.stage-details');
            const allCards = document.querySelectorAll('.stage-card');
            
            if (activeStages.size === 5) {
                allDetails.forEach(detail => detail.classList.remove('active'));
                allCards.forEach(card => card.classList.remove('active'));
                activeStages.clear();
            } else {
                allDetails.forEach((detail, index) => {
                    detail.classList.add('active');
                    activeStages.add(index + 1);
                });
                allCards.forEach(card => card.classList.add('active'));
            }
            
            updateProgress();
        }
        
        function updateProgress() {
            const progressFill = document.getElementById('progressFill');
            const percentage = (activeStages.size / 5) * 100;
            progressFill.style.width = percentage + '%';
        }
        
        function showBuyerJourney() {
            alert('Buyer Journey Overlay:\n\n' +
                  'Stage 1: Digital & peer-search phase\n' +
                  'Stage 2: Problem refinement & planning\n' +
                  'Stage 3: Business case development\n' +
                  'Stage 4: Final decision & commitment\n' +
                  'Stage 5: Value realization & growth');
        }
        
        function openModal(toolType) {
            const modal = document.getElementById('toolModal');
            const content = document.getElementById('modalContent');
            
            const toolContent = {
                'persona-template': {
                    title: 'Buying Persona Template',
                    content: `
                        <h3>Core Components:</h3>
                        <ul>
                            <li><strong>Demographics:</strong> Title, department, company size, industry</li>
                            <li><strong>Goals & Objectives:</strong> What they're trying to achieve</li>
                            <li><strong>Challenges & Pain Points:</strong> What's blocking their success</li>
                            <li><strong>Buying Triggers:</strong> Events that create urgency</li>
                            <li><strong>Decision Criteria:</strong> How they evaluate solutions</li>
                            <li><strong>Objections:</strong> Common concerns and pushback</li>
                            <li><strong>Preferred Channels:</strong> Where to reach them</li>
                            <li><strong>Key Messages:</strong> Resonant value propositions</li>
                        </ul>
                        <p style="margin-top: 20px; color: rgba(255,255,255,0.7);">Build 3-5 personas representing your ideal buyers. Include both economic buyers and technical evaluators.</p>
                    `
                },
                'sequence-framework': {
                    title: 'Multi-Touch Sequence Framework',
                    content: `
                        <h3>Recommended Cadence:</h3>
                        <ul>
                            <li><strong>Day 1:</strong> Personalized email (trigger-based)</li>
                            <li><strong>Day 2:</strong> LinkedIn connection request</li>
                            <li><strong>Day 4:</strong> Phone call + voicemail</li>
                            <li><strong>Day 6:</strong> Value-add email (insight/resource)</li>
                            <li><strong>Day 9:</strong> Phone call attempt</li>
                            <li><strong>Day 12:</strong> Video message or personalized content</li>
                            <li><strong>Day 15:</strong> Break-up email with door open</li>
                        </ul>
                        <p style="margin-top: 20px; color: rgba(255,255,255,0.7);"><strong>Key Principle:</strong> Each touch should provide value or insight, not just ask for a meeting.</p>
                    `
                },
                'meddic-guide': {
                    title: 'MEDDIC Qualification Framework',
                    content: `
                        <h3>MEDDIC Components:</h3>
                        <ul>
                            <li><strong>Metrics:</strong> What economic impact will our solution have?</li>
                            <li><strong>Economic Buyer:</strong> Who has budget authority?</li>
                            <li><strong>Decision Criteria:</strong> What's their evaluation process?</li>
                            <li><strong>Decision Process:</strong> What steps must happen to close?</li>
                            <li><strong>Identify Pain:</strong> What problem are we solving?</li>
                            <li><strong>Champion:</strong> Who's selling for us internally?</li>
                        </ul>
                        <p style="margin-top: 20px; color: rgba(255,255,255,0.7);">Every opportunity should have clear answers to all six elements before advancing to proposal stage.</p>
                    `
                },
                'miller-heiman': {
                    title: 'Miller Heiman Strategic Analysis',
                    content: `
                        <p style="margin-bottom: 20px; color: rgba(255,255,255,0.8);">Miller Heiman Strategic Selling is a comprehensive framework for analyzing complex B2B sales opportunities. It helps you map the buying center, understand decision-making dynamics, and develop winning strategies.</p>
                        
                        <div style="background: rgba(52, 152, 219, 0.1); padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #3498db;">
                            <h4 style="color: #3498db; margin-bottom: 15px;">üéØ Core Framework Components</h4>
                            
                            <div style="margin-bottom: 15px;">
                                <strong style="display: block; margin-bottom: 8px;">1. Single Sales Objective (SSO)</strong>
                                <p style="font-size: 0.9rem; color: rgba(255,255,255,0.8); margin-left: 15px;">
                                    Define one specific, measurable action you want the customer to take. Not "sell them everything," but "secure approval for Phase 1 implementation with 500 users by Q1."
                                </p>
                            </div>
                            
                            <div style="margin-bottom: 15px;">
                                <strong style="display: block; margin-bottom: 8px;">2. Buying Influences</strong>
                                <p style="font-size: 0.9rem; color: rgba(255,255,255,0.8); margin-left: 15px;">
                                    Map all stakeholders in four critical roles:
                                </p>
                                <ul style="margin-left: 35px; margin-top: 8px; font-size: 0.9rem; color: rgba(255,255,255,0.8);">
                                    <li><strong>Economic Buyer (E):</strong> Has final budget authority and veto power</li>
                                    <li><strong>Technical Buyer (T):</strong> Screens solutions against technical criteria</li>
                                    <li><strong>User Buyer (U):</strong> Will use the solution day-to-day</li>
                                    <li><strong>Coach (C):</strong> Internal guide who wants you to win</li>
                                </ul>
                            </div>
                            
                            <div style="margin-bottom: 15px;">
                                <strong style="display: block; margin-bottom: 8px;">3. Win-Results</strong>
                                <p style="font-size: 0.9rem; color: rgba(255,255,255,0.8); margin-left: 15px;">
                                    For each buying influence, identify their personal Win (what they want) and the business Results they need to deliver. The Win is emotional/personal, the Results are measurable/organizational.
                                </p>
                            </div>
                            
                            <div style="margin-bottom: 15px;">
                                <strong style="display: block; margin-bottom: 8px;">4. Degree of Influence</strong>
                                <p style="font-size: 0.9rem; color: rgba(255,255,255,0.8); margin-left: 15px;">
                                    Rate each stakeholder's power: High, Medium, or Low. Focus your time on High influence buyers.
                                </p>
                            </div>
                            
                            <div style="margin-bottom: 15px;">
                                <strong style="display: block; margin-bottom: 8px;">5. Mode (Receptivity)</strong>
                                <p style="font-size: 0.9rem; color: rgba(255,255,255,0.8); margin-left: 15px;">
                                    Assess each stakeholder's openness to change:
                                </p>
                                <ul style="margin-left: 35px; margin-top: 8px; font-size: 0.9rem; color: rgba(255,255,255,0.8);">
                                    <li><strong>Growth (G):</strong> Wants to improve, change, innovate</li>
                                    <li><strong>Trouble (T):</strong> Has a problem that needs fixing urgently</li>
                                    <li><strong>Even Keel (EK):</strong> Happy with status quo, resistant to change</li>
                                    <li><strong>Overconfident (OC):</strong> Denies problems exist</li>
                                </ul>
                            </div>
                            
                            <div>
                                <strong style="display: block; margin-bottom: 8px;">6. Red Flags & Strengths</strong>
                                <p style="font-size: 0.9rem; color: rgba(255,255,255,0.8); margin-left: 15px;">
                                    Identify what could derail the deal (Red Flags) and what gives you competitive advantage (Strengths).
                                </p>
                            </div>
                        </div>
                        
                        <div style="background: rgba(46, 204, 113, 0.1); padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #2ecc71;">
                            <h4 style="color: #2ecc71; margin-bottom: 15px;">üìã How to Use the Strategic Analysis Tool</h4>
                            
                            <div style="font-size: 0.9rem; color: rgba(255,255,255,0.8); line-height: 1.6;">
                                <p style="margin-bottom: 12px;"><strong>Step 1: Define Your SSO</strong><br>
                                Be specific. "Win the deal" is not an SSO. "Secure Board approval for ‚Ç¨2M contract by December 15th" is an SSO.</p>
                                
                                <p style="margin-bottom: 12px;"><strong>Step 2: Map All Buying Influences</strong><br>
                                List every person with influence over the decision. Identify their role (E, T, U, C), degree of influence (H, M, L), and mode (G, T, EK, OC).</p>
                                
                                <p style="margin-bottom: 12px;"><strong>Step 3: Document Win-Results for Each</strong><br>
                                What does this person win personally? What results do they need to deliver? Example: CFO wins by reducing costs (personal recognition), delivers 30% budget reduction (measurable result).</p>
                                
                                <p style="margin-bottom: 12px;"><strong>Step 4: Rate Your Coverage</strong><br>
                                Score -5 to +10 on how well you've addressed each buying influence's Win-Results. Negative scores are Red Flags.</p>
                                
                                <p style="margin-bottom: 12px;"><strong>Step 5: Assess Your Position</strong><br>
                                Where are you vs. competition? Only Alternative, Front Runner, or Staged? This determines your strategy.</p>
                                
                                <p><strong>Step 6: Create Action Plan</strong><br>
                                Based on gaps in coverage, Red Flags, and competitive position, define specific actions with owners and deadlines.</p>
                            </div>
                        </div>
                        
                        <div style="background: rgba(241, 196, 15, 0.1); padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #f39c12;">
                            <h4 style="color: #f39c12; margin-bottom: 15px;">‚ö†Ô∏è Common Mistakes to Avoid</h4>
                            <ul style="font-size: 0.9rem; color: rgba(255,255,255,0.8); line-height: 1.6;">
                                <li style="margin-bottom: 8px;"><strong>Focusing only on the Economic Buyer:</strong> You need coverage across all buying influences, especially your Coach.</li>
                                <li style="margin-bottom: 8px;"><strong>Confusing business Results with personal Wins:</strong> People buy for personal reasons (career advancement, avoiding risk, recognition) wrapped in business justification.</li>
                                <li style="margin-bottom: 8px;"><strong>Ignoring Even Keel stakeholders:</strong> They seem neutral but will block change. You must create dissatisfaction or work around them.</li>
                                <li style="margin-bottom: 8px;"><strong>Not identifying your Coach:</strong> Without a Coach, you're flying blind. Someone must want you to win and guide you internally.</li>
                                <li style="margin-bottom: 8px;"><strong>Rating yourself too optimistically:</strong> Be brutally honest about gaps in your coverage. Red Flags won't fix themselves.</li>
                                <li style="margin-bottom: 8px;"><strong>Creating vague action plans:</strong> "Meet with CIO" is not an action. "Deliver security architecture review to CIO by Friday to address data sovereignty concerns" is an action.</li>
                            </ul>
                        </div>
                        
                        <div style="background: rgba(155, 89, 182, 0.1); padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #9b59b6;">
                            <h4 style="color: #9b59b6; margin-bottom: 15px;">üí° Strategic Selling Best Practices</h4>
                            <ul style="font-size: 0.9rem; color: rgba(255,255,255,0.8); line-height: 1.6;">
                                <li style="margin-bottom: 8px;">Update your Strategic Analysis after every significant interaction</li>
                                <li style="margin-bottom: 8px;">Validate your assumptions with your Coach - they know the internal dynamics</li>
                                <li style="margin-bottom: 8px;">Use the framework in deal reviews with your manager - it creates structured conversations</li>
                                <li style="margin-bottom: 8px;">Focus on High influence buyers in Growth or Trouble mode - easiest to win</li>
                                <li style="margin-bottom: 8px;">Always have a Coach. If you don't, finding one is your top priority</li>
                                <li style="margin-bottom: 8px;">Address Red Flags immediately - they only get worse with time</li>
                                <li style="margin-bottom: 8px;">Know when to walk away - if you can't cover key buying influences, you'll lose</li>
                            </ul>
                        </div>
                        
                        <div style="margin-top: 20px; padding: 15px; background: rgba(52, 152, 219, 0.1); border-radius: 8px; border-left: 4px solid #3498db;">
                            <h5 style="color: #3498db; margin-bottom: 10px;">‚úÖ When to Use Miller Heiman</h5>
                            <ul style="font-size: 0.9rem; color: rgba(255,255,255,0.8); line-height: 1.6;">
                                <li><strong>Complex B2B sales</strong> with multiple decision-makers and long sales cycles</li>
                                <li><strong>High-value deals</strong> (typically ‚Ç¨100K+) where you need structured qualification</li>
                                <li><strong>Competitive situations</strong> where you need to outmaneuver competitors strategically</li>
                                <li><strong>Enterprise accounts</strong> with complex political dynamics and buying centers</li>
                                <li><strong>Deal reviews</strong> with management to assess pipeline health and win probability</li>
                                <li><strong>When stuck</strong> in a deal and need to diagnose what's blocking progress</li>
                            </ul>
                        </div>
                        
                        <div style="margin-top: 25px; padding: 20px; background: linear-gradient(135deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%); border-radius: 10px; border: 2px solid #667eea; text-align: center;">
                            <h5 style="color: #667eea; margin-bottom: 15px; font-size: 1.1rem;">üöÄ Access the Full Interactive Tool</h5>
                            <p style="font-size: 0.9rem; color: rgba(255,255,255,0.9); margin-bottom: 15px;">
                                Ready to build your strategic analysis? Use the full interactive Miller Heiman worksheet with auto-save, multiple deal tracking, and printable outputs.
                            </p>
                            <a href="Miller-Heiman.html" target="_blank" style="display: inline-block; padding: 12px 30px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-decoration: none; border-radius: 8px; font-weight: 600; font-size: 1rem; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4); margin: 5px;">
                                Open Miller Heiman Tool ‚Üí 
                            </a>
                            <a href="index.html" style="display: inline-block; padding: 12px 30px; background: transparent; border: 2px solid #667eea; color: #667eea; text-decoration: none; border-radius: 8px; font-weight: 600; font-size: 1rem; transition: all 0.3s ease; margin: 5px;">
                                ‚Üê Back to Playbook Hub
                            </a>
                            <p style="font-size: 0.85rem; color: rgba(255,255,255,0.7); margin-top: 12px;">
                                Auto-saves your work ‚Ä¢ Sample strategy included ‚Ä¢ Multiple deal tracking
                            </p>
                        </div>
                    `
                },
                'proposal-template': {
                    title: 'Client-Focused Proposal Structure',
                    content: `
                        <h3>Winning Proposal Format:</h3>
                        <ol style="padding-left: 20px;">
                            <li><strong>Executive Summary</strong> - Their business challenge in their words</li>
                            <li><strong>Current State Analysis</strong> - Quantified pain and cost</li>
                            <li><strong>Future State Vision</strong> - Measurable outcomes</li>
                            <li><strong>Solution Approach</strong> - How we'll get them there</li>
                            <li><strong>Success Metrics</strong> - How we'll measure impact</li>
                            <li><strong>Implementation Plan</strong> - Timeline and milestones</li>
                            <li><strong>Investment & ROI</strong> - Cost vs. value realization</li>
                            <li><strong>Risk Mitigation</strong> - How we ensure success</li>
                            <li><strong>Next Steps</strong> - Clear path forward</li>
                        </ol>
                        <p style="margin-top: 20px; color: rgba(255,255,255,0.7);"><strong>Critical:</strong> Co-create this with your champion before formal presentation.</p>
                    `
                },
                'account-plan': {
                    title: 'Strategic Account Plan Template',
                    content: `
                        <h3>Key Components:</h3>
                        <ul>
                            <li><strong>Account Overview:</strong> Business, strategy, competitive position</li>
                            <li><strong>Relationship Map:</strong> Stakeholders, champions, detractors</li>
                            <li><strong>Current State:</strong> Products in use, adoption, satisfaction</li>
                            <li><strong>White Space Analysis:</strong> Expansion opportunities</li>
                            <li><strong>Strategic Initiatives:</strong> Their priorities for next 12-18 months</li>
                            <li><strong>Risk Assessment:</strong> Churn indicators and mitigation</li>
                            <li><strong>Growth Plan:</strong> Upsell, cross-sell, renewal strategy</li>
                            <li><strong>Success Metrics:</strong> Health score, NPS, adoption KPIs</li>
                            <li><strong>QBR Schedule:</strong> Regular value reviews with leadership</li>
                        </ul>
                    `
                },
                'roi-calculator': {
                    title: 'Client ROI Calculator',
                    content: `
                        <p style="margin-bottom: 20px; color: rgba(255,255,255,0.8);">This comprehensive ROI calculator helps quantify the business value of your solution across four key dimensions: Revenue Growth, Cost Savings, Efficiency Gains, and Risk Reduction.</p>
                        
                        <div style="background: rgba(52, 152, 219, 0.1); padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #3498db;">
                            <h4 style="color: #3498db; margin-bottom: 15px;">üìä Current State Analysis</h4>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 10px;">
                                <div>
                                    <label style="display: block; margin-bottom: 5px; font-size: 0.9rem;">Annual Revenue (‚Ç¨)</label>
                                    <input type="number" id="roiAnnualRevenue" value="5000000" style="width: 100%; padding: 8px; border-radius: 5px; border: 2px solid rgba(52, 152, 219, 0.3); background: rgba(255, 255, 255, 0.1); color: white;">
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 5px; font-size: 0.9rem;">Number of Sales Reps</label>
                                    <input type="number" id="roiNumReps" value="10" style="width: 100%; padding: 8px; border-radius: 5px; border: 2px solid rgba(52, 152, 219, 0.3); background: rgba(255, 255, 255, 0.1); color: white;">
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 5px; font-size: 0.9rem;">Average Deal Size (‚Ç¨)</label>
                                    <input type="number" id="roiAvgDeal" value="50000" style="width: 100%; padding: 8px; border-radius: 5px; border: 2px solid rgba(52, 152, 219, 0.3); background: rgba(255, 255, 255, 0.1); color: white;">
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 5px; font-size: 0.9rem;">Sales Cycle (days)</label>
                                    <input type="number" id="roiSalesCycle" value="90" style="width: 100%; padding: 8px; border-radius: 5px; border: 2px solid rgba(52, 152, 219, 0.3); background: rgba(255, 255, 255, 0.1); color: white;">
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 5px; font-size: 0.9rem;">Current Win Rate (%)</label>
                                    <input type="number" id="roiWinRate" value="20" style="width: 100%; padding: 8px; border-radius: 5px; border: 2px solid rgba(52, 152, 219, 0.3); background: rgba(255, 255, 255, 0.1); color: white;">
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 5px; font-size: 0.9rem;">Avg Rep Salary (‚Ç¨)</label>
                                    <input type="number" id="roiRepSalary" value="80000" style="width: 100%; padding: 8px; border-radius: 5px; border: 2px solid rgba(52, 152, 219, 0.3); background: rgba(255, 255, 255, 0.1); color: white;">
                                </div>
                            </div>
                        </div>

                        <div style="background: rgba(46, 204, 113, 0.1); padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #2ecc71;">
                            <h4 style="color: #2ecc71; margin-bottom: 15px;">üìà Expected Improvements</h4>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div>
                                    <label style="display: block; margin-bottom: 5px; font-size: 0.9rem;">Win Rate Improvement (%)</label>
                                    <input type="number" id="roiWinImprovement" value="5" style="width: 100%; padding: 8px; border-radius: 5px; border: 2px solid rgba(46, 204, 113, 0.3); background: rgba(255, 255, 255, 0.1); color: white;">
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 5px; font-size: 0.9rem;">Sales Cycle Reduction (%)</label>
                                    <input type="number" id="roiCycleReduction" value="20" style="width: 100%; padding: 8px; border-radius: 5px; border: 2px solid rgba(46, 204, 113, 0.3); background: rgba(255, 255, 255, 0.1); color: white;">
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 5px; font-size: 0.9rem;">Deal Size Increase (%)</label>
                                    <input type="number" id="roiDealIncrease" value="10" style="width: 100%; padding: 8px; border-radius: 5px; border: 2px solid rgba(46, 204, 113, 0.3); background: rgba(255, 255, 255, 0.1); color: white;">
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 5px; font-size: 0.9rem;">Time Saved per Rep (hrs/week)</label>
                                    <input type="number" id="roiTimeSaved" value="10" style="width: 100%; padding: 8px; border-radius: 5px; border: 2px solid rgba(46, 204, 113, 0.3); background: rgba(255, 255, 255, 0.1); color: white;">
                                </div>
                            </div>
                        </div>

                        <div style="background: rgba(241, 196, 15, 0.1); padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #f39c12;">
                            <h4 style="color: #f39c12; margin-bottom: 15px;">üí∞ Investment Details</h4>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div>
                                    <label style="display: block; margin-bottom: 5px; font-size: 0.9rem;">Annual Subscription (‚Ç¨)</label>
                                    <input type="number" id="roiAnnualCost" value="120000" style="width: 100%; padding: 8px; border-radius: 5px; border: 2px solid rgba(241, 196, 15, 0.3); background: rgba(255, 255, 255, 0.1); color: white;">
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 5px; font-size: 0.9rem;">Implementation Cost (‚Ç¨)</label>
                                    <input type="number" id="roiImplementation" value="30000" style="width: 100%; padding: 8px; border-radius: 5px; border: 2px solid rgba(241, 196, 15, 0.3); background: rgba(255, 255, 255, 0.1); color: white;">
                                </div>
                            </div>
                        </div>

                        <button onclick="calculateFullROI()" style="width: 100%; padding: 15px; background: #3498db; color: white; border: none; border-radius: 10px; font-size: 1.1rem; cursor: pointer; margin-bottom: 20px;">
                            Calculate ROI
                        </button>

                        <div id="roiResults" style="display: none;">
                            <div style="background: rgba(155, 89, 182, 0.1); padding: 25px; border-radius: 10px; border-left: 4px solid #9b59b6; margin-bottom: 20px;">
                                <h3 style="color: #9b59b6; margin-bottom: 20px; text-align: center;">ROI Analysis Results</h3>
                                
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 25px;">
                                    <div style="background: rgba(46, 204, 113, 0.2); padding: 20px; border-radius: 10px; text-align: center;">
                                        <div style="font-size: 0.9rem; color: rgba(255,255,255,0.8); margin-bottom: 5px;">3-Year ROI</div>
                                        <div id="roiTotal" style="font-size: 2rem; font-weight: bold; color: #2ecc71;">--</div>
                                    </div>
                                    <div style="background: rgba(52, 152, 219, 0.2); padding: 20px; border-radius: 10px; text-align: center;">
                                        <div style="font-size: 0.9rem; color: rgba(255,255,255,0.8); margin-bottom: 5px;">Payback Period</div>
                                        <div id="roiPayback" style="font-size: 2rem; font-weight: bold; color: #3498db;">--</div>
                                    </div>
                                    <div style="background: rgba(241, 196, 15, 0.2); padding: 20px; border-radius: 10px; text-align: center;">
                                        <div style="font-size: 0.9rem; color: rgba(255,255,255,0.8); margin-bottom: 5px;">Annual Net Benefit</div>
                                        <div id="roiNetBenefit" style="font-size: 2rem; font-weight: bold; color: #f39c12;">--</div>
                                    </div>
                                </div>

                                <h4 style="color: #9b59b6; margin: 25px 0 15px 0;">Value Breakdown</h4>
                                <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 8px;">
                                    <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                            <span>üí∞ Revenue Growth (Win Rate + Deal Size)</span>
                                            <strong id="roiRevenueGrowth" style="color: #2ecc71;">--</strong>
                                        </div>
                                        <div style="font-size: 0.85rem; color: rgba(255,255,255,0.6);" id="roiRevenueDetail">--</div>
                                    </div>
                                    <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                            <span>‚ö° Efficiency Gains (Faster Cycles + Time Saved)</span>
                                            <strong id="roiEfficiency" style="color: #3498db;">--</strong>
                                        </div>
                                        <div style="font-size: 0.85rem; color: rgba(255,255,255,0.6);" id="roiEfficiencyDetail">--</div>
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                            <span>üíµ Total Annual Benefit</span>
                                            <strong id="roiTotalBenefit" style="color: #2ecc71; font-size: 1.2rem;">--</strong>
                                        </div>
                                    </div>
                                    <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                                        <div style="display: flex; justify-content: space-between;">
                                            <span>üí∏ Total Annual Investment</span>
                                            <strong id="roiTotalCost" style="color: #e74c3c;">--</strong>
                                        </div>
                                    </div>
                                </div>

                                <div style="background: rgba(52, 152, 219, 0.1); padding: 20px; border-radius: 8px; margin-top: 20px;">
                                    <h5 style="color: #3498db; margin-bottom: 10px;">üìä 3-Year Projection</h5>
                                    <div id="roiProjection" style="font-size: 0.9rem; color: rgba(255,255,255,0.8);"></div>
                                </div>
                            </div>
                        </div>

                        <div style="margin-top: 20px; padding: 15px; background: rgba(52, 152, 219, 0.1); border-radius: 8px; border-left: 4px solid #3498db;">
                            <h5 style="color: #3498db; margin-bottom: 10px;">üí° Best Practices for ROI Calculators</h5>
                            <ul style="font-size: 0.9rem; color: rgba(255,255,255,0.8); line-height: 1.6;">
                                <li>Co-create the calculator inputs with your champion during discovery</li>
                                <li>Use conservative estimates to build credibility</li>
                                <li>Include both quantitative and qualitative benefits</li>
                                <li>Show multiple scenarios (best case, realistic, conservative)</li>
                                <li>Link ROI to specific business outcomes in their strategic plan</li>
                                <li>Update assumptions based on customer feedback and proof points</li>
                                <li>Present ROI as part of the business case, not a standalone document</li>
                            </ul>
                        </div>
                    `
                }
            };
            
            const tool = toolContent[toolType] || { 
                title: 'Tool Coming Soon', 
                content: '<p>This tool template is under development. Check back soon!</p>' 
            };
            
            content.innerHTML = `
                <h2 style="color: #3498db; margin-bottom: 20px;">${tool.title}</h2>
                ${tool.content}
            `;
            
            modal.classList.add('active');
        }
        
        function closeModal() {
            document.getElementById('toolModal').classList.remove('active');
        }
        
        function openCalculator() {
            document.getElementById('calculatorModal').classList.add('active');
        }
        
        function closeCalculatorModal() {
            document.getElementById('calculatorModal').classList.remove('active');
        }
        
        function calculateVelocity() {
            const numOpps = parseFloat(document.getElementById('numOpps').value);
            const avgDeal = parseFloat(document.getElementById('avgDeal').value);
            const winRate = parseFloat(document.getElementById('winRate').value) / 100;
            const cycleLength = parseFloat(document.getElementById('cycleLength').value);
            
            const velocity = (numOpps * avgDeal * winRate) / cycleLength;
            const monthly = velocity * 30;
            const quarterly = velocity * 90;
            
            document.getElementById('velocityResult').textContent = 
                `Daily Pipeline Velocity: ‚Ç¨${velocity.toLocaleString('en-IE', {maximumFractionDigits: 0})}`;
            document.getElementById('monthlyResult').textContent = 
                `Monthly Expected Revenue: ‚Ç¨${monthly.toLocaleString('en-IE', {maximumFractionDigits: 0})}`;
            document.getElementById('quarterlyResult').textContent = 
                `Quarterly Expected Revenue: ‚Ç¨${quarterly.toLocaleString('en-IE', {maximumFractionDigits: 0})}`;
            
            document.getElementById('calcResult').style.display = 'block';
        }
        
        function calculateLeadGen() {
            const leadsNeeded = parseFloat(document.getElementById('leadsNeeded').value);
            const sqlConversion = parseFloat(document.getElementById('sqlConversion').value) / 100;
            const oppConversion = parseFloat(document.getElementById('oppConversion').value) / 100;
            
            const sqlsNeeded = leadsNeeded * sqlConversion;
            const oppsCreated = sqlsNeeded * oppConversion;
            
            document.getElementById('leadGenDetails').innerHTML = 
                `From ${leadsNeeded.toLocaleString('en-IE')} monthly leads:<br>` +
                `‚Ä¢ Expected SQLs: ${sqlsNeeded.toLocaleString('en-IE', {maximumFractionDigits: 0})}<br>` +
                `‚Ä¢ Expected Opportunities: ${oppsCreated.toLocaleString('en-IE', {maximumFractionDigits: 0})}<br>` +
                `‚Ä¢ Daily Lead Target: ${(leadsNeeded / 20).toLocaleString('en-IE', {maximumFractionDigits: 0})}`;
            
            document.getElementById('leadGenResult').style.display = 'block';
        }
        
        function calculateFullROI() {
            // Get inputs
            const annualRevenue = parseFloat(document.getElementById('roiAnnualRevenue').value) || 0;
            const numReps = parseFloat(document.getElementById('roiNumReps').value) || 1;
            const avgDeal = parseFloat(document.getElementById('roiAvgDeal').value) || 0;
            const salesCycle = parseFloat(document.getElementById('roiSalesCycle').value) || 90;
            const winRate = parseFloat(document.getElementById('roiWinRate').value) / 100 || 0;
            const repSalary = parseFloat(document.getElementById('roiRepSalary').value) || 0;
            
            const winImprovement = parseFloat(document.getElementById('roiWinImprovement').value) / 100 || 0;
            const cycleReduction = parseFloat(document.getElementById('roiCycleReduction').value) / 100 || 0;
            const dealIncrease = parseFloat(document.getElementById('roiDealIncrease').value) / 100 || 0;
            const timeSaved = parseFloat(document.getElementById('roiTimeSaved').value) || 0;
            
            const annualCost = parseFloat(document.getElementById('roiAnnualCost').value) || 0;
            const implementationCost = parseFloat(document.getElementById('roiImplementation').value) || 0;
            
            // Calculate current state
            const dealsPerYear = Math.round((365 / salesCycle) * numReps);
            const currentRevenue = dealsPerYear * avgDeal * winRate;
            
            // Calculate improvements
            const newWinRate = winRate + winImprovement;
            const newCycle = salesCycle * (1 - cycleReduction);
            const newDealSize = avgDeal * (1 + dealIncrease);
            
            // Revenue growth from win rate and deal size improvements
            const newDealsPerYear = Math.round((365 / newCycle) * numReps);
            const newRevenue = newDealsPerYear * newDealSize * newWinRate;
            const revenueGrowth = newRevenue - currentRevenue;
            
            // Efficiency gains from time savings and faster cycles
            const hourlyRate = repSalary / 2080; // 52 weeks * 40 hours
            const annualTimeSavings = timeSaved * 52 * numReps * hourlyRate;
            const cycleEfficiency = (newDealsPerYear - dealsPerYear) * avgDeal * winRate;
            const totalEfficiencyGains = annualTimeSavings + cycleEfficiency;
            
            // Total annual benefit
            const totalAnnualBenefit = revenueGrowth + totalEfficiencyGains;
            
            // Total costs (first year includes implementation)
            const firstYearCost = annualCost + implementationCost;
            const annualOngoingCost = annualCost;
            
            // Net benefit
            const firstYearNet = totalAnnualBenefit - firstYearCost;
            const ongoingYearNet = totalAnnualBenefit - annualOngoingCost;
            
            // Calculate 3-year ROI
            const threeYearBenefit = (totalAnnualBenefit * 3);
            const threeYearCost = firstYearCost + (annualOngoingCost * 2);
            const threeYearROI = ((threeYearBenefit - threeYearCost) / threeYearCost) * 100;
            
            // Payback period
            let cumulativeBenefit = 0;
            let paybackMonths = 0;
            let monthlyBenefit = totalAnnualBenefit / 12;
            let remainingCost = firstYearCost;
            
            for (let month = 1; month <= 36; month++) {
                cumulativeBenefit += monthlyBenefit;
                if (cumulativeBenefit >= remainingCost) {
                    paybackMonths = month;
                    break;
                }
            }
            
            // Display results
            document.getElementById('roiTotal').textContent = threeYearROI.toFixed(0) + '%';
            document.getElementById('roiPayback').textContent = paybackMonths + ' months';
            document.getElementById('roiNetBenefit').textContent = '‚Ç¨' + ongoingYearNet.toLocaleString('en-IE', {maximumFractionDigits: 0});
            
            document.getElementById('roiRevenueGrowth').textContent = '‚Ç¨' + revenueGrowth.toLocaleString('en-IE', {maximumFractionDigits: 0});
            document.getElementById('roiRevenueDetail').textContent = 
                `Win rate ${(winRate*100).toFixed(1)}% ‚Üí ${(newWinRate*100).toFixed(1)}% | Deal size ‚Ç¨${avgDeal.toLocaleString('en-IE')} ‚Üí ‚Ç¨${newDealSize.toLocaleString('en-IE', {maximumFractionDigits: 0})}`;
            
            document.getElementById('roiEfficiency').textContent = '‚Ç¨' + totalEfficiencyGains.toLocaleString('en-IE', {maximumFractionDigits: 0});
            document.getElementById('roiEfficiencyDetail').textContent = 
                `Cycle ${salesCycle} ‚Üí ${newCycle.toFixed(0)} days | ${timeSaved} hrs/week saved per rep`;
            
            document.getElementById('roiTotalBenefit').textContent = '‚Ç¨' + totalAnnualBenefit.toLocaleString('en-IE', {maximumFractionDigits: 0});
            document.getElementById('roiTotalCost').textContent = '‚Ç¨' + annualOngoingCost.toLocaleString('en-IE', {maximumFractionDigits: 0});
            
            // 3-year projection
            const year1Net = firstYearNet;
            const year2Net = year1Net + ongoingYearNet;
            const year3Net = year2Net + ongoingYearNet;
            
            document.getElementById('roiProjection').innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
                    <div style="text-align: center; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                        <div style="font-weight: bold; margin-bottom: 5px;">Year 1</div>
                        <div style="color: ${year1Net > 0 ? '#2ecc71' : '#e74c3c'};">‚Ç¨${year1Net.toLocaleString('en-IE', {maximumFractionDigits: 0})}</div>
                        <div style="font-size: 0.8rem; color: rgba(255,255,255,0.6); margin-top: 5px;">Includes implementation</div>
                    </div>
                    <div style="text-align: center; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                        <div style="font-weight: bold; margin-bottom: 5px;">Year 2</div>
                        <div style="color: ${year2Net > 0 ? '#2ecc71' : '#e74c3c'};">‚Ç¨${year2Net.toLocaleString('en-IE', {maximumFractionDigits: 0})}</div>
                        <div style="font-size: 0.8rem; color: rgba(255,255,255,0.6); margin-top: 5px;">Cumulative net</div>
                    </div>
                    <div style="text-align: center; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                        <div style="font-weight: bold; margin-bottom: 5px;">Year 3</div>
                        <div style="color: ${year3Net > 0 ? '#2ecc71' : '#e74c3c'};">‚Ç¨${year3Net.toLocaleString('en-IE', {maximumFractionDigits: 0})}</div>
                        <div style="font-size: 0.8rem; color: rgba(255,255,255,0.6); margin-top: 5px;">Cumulative net</div>
                    </div>
                </div>
            `;
            
            document.getElementById('roiResults').style.display = 'block';
        }
        
        // Search functionality
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const cards = document.querySelectorAll('.stage-card');
            
            if (searchTerm === '') {
                cards.forEach(card => {
                    card.style.display = 'block';
                    card.style.border = '2px solid rgba(52, 152, 219, 0.3)';
                });
                return;
            }
            
            cards.forEach(card => {
                const text = card.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    card.style.display = 'block';
                    card.style.border = '2px solid #2ecc71';
                } else {
                    card.style.display = 'none';
                }
            });
        });
        
        // Close modals when clicking outside
        window.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                e.target.classList.remove('active');
            }
        });
    </script>
</body>
</html>
